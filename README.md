spectacle-cli
=============

[![npm version][npm_img]][npm_site]
[![Travis Status][trav_img]][trav_site]

A generation tool for [Spectacle][] presentation decks.

## Installation

Either install it globally:

```sh
$ npm install --global spectacle-cli
$ yarn global add spectacle-cli
```

... or use it directly with [npx][] as `npx spectacle-cli`

## Usage

The Spectacle CLI will create a development server to create a `.md` or `.mdx` slides-based deck with additional enhancements for theme overrides, etc.

```sh
$ spectacle -h
Usage: spectacle -s <file>

Options:
  --action, -a   CLI action to run (build, server)  [string] [default: "server"]
  --src, -s      Path to a file from which a presentation will be generated.
                                                [string] [default: "slides.mdx"]
  --theme, -t    Path to a JS/JSON file with theme overrides.           [string]
  --title, -l    Title for the HTML file generated by the Spectacle CLI.
                                              [string] [default: "Presentation"]
  --port, -p     Port for running the Spectacle development server.
                                                        [number] [default: 3000]
  --output, -o   Output directory for built files.    [string] [default: "dist"]
  --help, -h     Show help                                             [boolean]
  --version, -v  Show version number                                   [boolean]
```

Some additional tips:

* _File paths_: all file paths are relative to current working directory (`process.cwd()`) or can be absolute.
* `-a|--action`:
    * `server`: Run a development in-memory web-server with hot reload for your presentation.
    * `build`: Output a full production website static build to the `-o|--output` directory.
* `-s|--src`: The slide source file path. If a file has a `.md` suffix is processed as straight Markdown. If a file has a `.mdx` suffix it is processed as enhanced MDX.
* `-t|--theme`: A `require|import`-able file (e.g., `.js` or `.json`) that contains an object to override the Spectacle default theme in places.

## Details

### Markdown

For `.md` source files, everything is pretty straightforward -- the Markdown is parsed into Spectacle components and rendered as a deck. Slides are separated with `---`. You can find a working example in `examples/cli-md` in the project repository.

### MDX

For `.mdx` source files, things are slightly more complicated.

**Babel**: MDX produces JSX, not JS and can contain arbitrary JavaScript code along with imports. `spectacle-cli` thus has a built in babel transform of `@babel/preset-react`. If your JS/JSX enhancements in an MDX deck require more babel libraries than that, you will need to create a `.babelrc` and install dependencies in your current working directory (or above) from where you are running the CLI.

**Dependencies**: `spectacle-cli` ships with some built-in dependencies that are `resolve.alias`-ed in webpack to always be used. For example, we include `react`, `react-dom`, and (of course) the `spectacle` core library. Your JS/JSX custom code used with MDX can automatically use these. For additional dependencies, please make sure to install dependencies in your current working directory (or above) from where you are running the CLI.

You can find a working example in `examples/cli-mdx-babel` in the project repository that contains a custom `.babelrc` that adds the `babel-plugin-codgen` neato features and has a custom slide that uses built-in `spectacle` components.

[npm_img]: https://badge.fury.io/js/spectacle-cli.svg
[npm_site]: http://badge.fury.io/js/spectacle-cli
[trav_img]: https://api.travis-ci.com/FormidableLabs/spectacle-cli.svg
[trav_site]: https://travis-ci.com/FormidableLabs/spectacle-cli

[Spectacle]: https://formidable.com/open-source/spectacle/
[npx]: https://www.npmjs.com/package/npx
